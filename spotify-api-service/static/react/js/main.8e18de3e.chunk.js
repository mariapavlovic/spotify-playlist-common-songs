(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{49:function(e,t,n){},51:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(7),c=n.n(r),i=(n(49),n(19)),s=n.n(i),l=n(30),u=n(32),d=(n(51),n(92)),p=n(91),h=n(87),f=n(4),b=n(10),j=["user-read-private","user-read-email","playlist-read-private","playlist-modify-public","playlist-modify-private"].join("%20"),m="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("83a660b6c062427b977486567c05ed89","&redirect_uri=").concat("http://127.0.0.1:5000","&scope=").concat(j,"&response_type=token&state=123&show_dialog=true"),g=function(){Object(o.useEffect)((function(){fetch("/playlist-created").then((function(e){return e.json().then((function(e){console.log(e)}))}));if(window.location.hash){var t=e(window.location.hash);localStorage.setItem("objectparam",JSON.stringify(t)),localStorage.setItem("accessToken",JSON.stringify(t.access_token)),n()}}));var e=function(e){var t,n={},o=e.substring(1).split("&");for(t=0;t<o.length;t++){var a=o[t].split("="),r=Object(u.a)(a,2),c=r[0],i=r[1];n[c]=i}return n},t=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/send-current-user-info",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)}));case 2:window.location="/create-playlist";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("objectparam")),e.next=3,fetch("/send-access-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=Object(h.a)((function(e){return{margin:{margin:e.spacing(1)}}})),r=Object(f.a)({root:{boxShadow:"none",textTransform:"none",fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"#9e4c41",borderColor:"#9e4c41",fontFamily:"Futura",fontStyle:"italic","&:hover":{backgroundColor:"#b56257",borderColor:"#b56257",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"#9e4c41",borderColor:"#9e4c41"},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}})(d.a),c=Object(o.useState)(""),i=Object(u.a)(c,2),j=i[0],g=i[1],y=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("accessToken")),e.next=3,fetch("https://api.spotify.com/v1/users/".concat(j),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){console.log(e),e.ok&&fetch("/send-friends-user-info?user_id=".concat(j))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{className:"section",children:Object(b.jsx)("p",{className:"title",children:"OUR SHARED TRACKS"})}),Object(b.jsx)("div",{className:"section",children:Object(b.jsx)(r,{variant:"contained",color:"secondary",onClick:function(){window.location=m},children:"Login With Spotify"})}),Object(b.jsxs)("div",{className:"section",children:[Object(b.jsx)("p",{className:"paragraphs",children:"Enter your friend's Spotify user name:"}),Object(b.jsx)(p.a,{required:!0,variant:"outlined",id:"outlined-required",label:"Required",placeholder:"friend's user name",defaultValue:"",onChange:function(e){g(e.target.value)}}),Object(b.jsx)(r,{variant:"contained",color:"primary",className:a.margin,onClick:y,children:"Check User"})]}),Object(b.jsx)("div",{className:"section",children:Object(b.jsx)(r,{variant:"contained",color:"primary",className:a.margin,onClick:t,children:"Create Playlist With Our Shared Tracks!"})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,94)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),r(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),y()}},[[56,1,2]]]);
//# sourceMappingURL=main.8e18de3e.chunk.js.map